<main>
  <h1>Ajout d'un article</h1>
  <form [formGroup]="f" (ngSubmit)="submit()">
    <label>
      <span>Nom</span>
      <input type="text" formControlName="name" placeholder="Ex: Tournevis" />
    </label>
    <label>
      <span>Prix (€)</span>
      <input type="number" formControlName="price" />
    </label>
    <label>
      <span>Quantité : {{ f.controls["qty"].value }} </span>
      <input type="range" formControlName="qty" min="0" max="100" step="1" />
    </label>
    <label>
      <span>Category</span>
      <select>
        <option>Jardin</option>
        <option>Alimentation</option>
      </select>
    </label>
    <div class="radio">
      <label>
        <input type="radio" name="type" value="" [formControl]="type" />
        <span>Non périssable</span>
      </label>
      <label>
        <input
          type="radio"
          name="type"
          value="perishable"
          [formControl]="type"
        />
        <span>Périssable</span>
      </label>
    </div>
    <div class="date">
      <label *ngIf="type.value === 'perishable'">
        <span>Date de péremption</span>
        <input type="date" formControlName="expiryDate" />
      </label>
    </div>

    <div class="error">
      {{ errorMsg }}
    </div>
    <button type="submit" class="primary" [disabled]="isInvalid() || isAdding">
      <fa-icon
        [icon]="isAdding ? faCircleNotch : faPlus"
        [spin]="isAdding"
      ></fa-icon>
      <span>Ajouter</span>
    </button>
    <!-- {{ f.value | json }} -->
  </form>
</main>
